# AWSomeShop Requirements Document

## Intent Analysis Summary

| 属性 | 值 |
|------|-----|
| **项目名称** | AWSomeShop |
| **请求类型** | New Project (全新项目) |
| **范围估计** | Multiple Components (多组件系统) |
| **复杂度估计** | Moderate (中等复杂度) |
| **项目目标** | 构建内部员工福利电商网站 MVP，验证员工积分兑换系统的商业模式 |

---

## Functional Requirements (功能需求)

### FR-1: 用户认证与授权

| ID | 需求描述 | 优先级 |
|----|---------|--------|
| FR-1.1 | 系统支持用户名密码登录 | P0 |
| FR-1.2 | 系统区分员工和管理员两种角色 | P0 |
| FR-1.3 | 所有管理员拥有相同权限 | P0 |
| FR-1.4 | 预留 SSO 集成接口（后续扩展） | P2 |

### FR-2: 员工功能

| ID | 需求描述 | 优先级 |
|----|---------|--------|
| FR-2.1 | 员工可以浏览所有可兑换的虚拟产品 | P0 |
| FR-2.2 | 员工可以查看产品详情（名称、描述、所需积分、图片） | P0 |
| FR-2.3 | 员工可以使用 AWSome 积分直接兑换产品（无需审批） | P0 |
| FR-2.4 | 员工可以查看当前积分余额 | P0 |
| FR-2.5 | 员工可以查看积分变动历史（获得/消费记录） | P0 |
| FR-2.6 | 员工可以查看兑换历史记录 | P0 |

### FR-3: 管理员功能 - 产品管理

| ID | 需求描述 | 优先级 |
|----|---------|--------|
| FR-3.1 | 管理员可以添加新产品 | P0 |
| FR-3.2 | 管理员可以编辑产品信息 | P0 |
| FR-3.3 | 管理员可以删除/下架产品 | P0 |
| FR-3.4 | 管理员可以上传产品图片（存储到 AWS S3） | P0 |
| FR-3.5 | 产品平铺展示，无分类管理 | P0 |
| FR-3.6 | MVP 阶段不考虑库存管理 | P0 |

### FR-4: 管理员功能 - 积分管理

| ID | 需求描述 | 优先级 |
|----|---------|--------|
| FR-4.1 | 管理员可以手动为员工发放积分 | P0 |
| FR-4.2 | 管理员可以手动扣除员工积分 | P0 |
| FR-4.3 | 系统支持按规则自动发放积分（如每月固定额度） | P1 |
| FR-4.4 | 管理员可以查看所有员工的积分余额 | P0 |
| FR-4.5 | 管理员可以查看积分操作日志 | P1 |
| FR-4.6 | 积分永久有效，无过期机制 | P0 |

### FR-5: 兑换流程

| ID | 需求描述 | 优先级 |
|----|---------|--------|
| FR-5.1 | 所有产品为虚拟产品，兑换后直接发放 | P0 |
| FR-5.2 | 兑换成功后自动扣除相应积分 | P0 |
| FR-5.3 | 积分不足时禁止兑换 | P0 |
| FR-5.4 | 兑换记录仅在系统内查看，不支持导出 | P0 |

---

## Non-Functional Requirements (非功能需求)

### NFR-1: 技术架构

| ID | 需求描述 |
|----|---------|
| NFR-1.1 | 后端使用 Python (FastAPI) |
| NFR-1.2 | 前端使用 React |
| NFR-1.3 | 数据库使用 PostgreSQL |
| NFR-1.4 | 图片存储使用 AWS S3 |
| NFR-1.5 | 容器化部署 (Docker/Kubernetes) |

### NFR-2: 性能与可用性

| ID | 需求描述 |
|----|---------|
| NFR-2.1 | 支持 100-500 并发用户 |
| NFR-2.2 | 标准可用性 (99%+)，单区域部署 |
| NFR-2.3 | 页面响应时间 < 2 秒 |

### NFR-3: 安全性

| ID | 需求描述 |
|----|---------|
| NFR-3.1 | 密码加密存储 |
| NFR-3.2 | API 接口需要认证 |
| NFR-3.3 | 角色权限控制 |

### NFR-4: 用户界面

| ID | 需求描述 |
|----|---------|
| NFR-4.1 | 仅支持桌面端浏览器 |
| NFR-4.2 | 不需要响应式设计 |

---

## User Roles (用户角色)

### 员工 (Employee)
- 浏览和兑换产品
- 查看积分余额和历史
- 查看兑换记录

### 管理员 (Admin)
- 所有员工功能
- 产品 CRUD 管理
- 员工积分管理（发放/扣除）
- 查看系统数据

---

## Data Entities (数据实体)

| 实体 | 主要属性 |
|------|---------|
| User | id, username, password_hash, role, points_balance, created_at |
| Product | id, name, description, points_cost, image_url, is_active, created_at |
| PointsTransaction | id, user_id, amount, type (credit/debit), reason, created_at, admin_id |
| Redemption | id, user_id, product_id, points_spent, redeemed_at |

---

## Out of Scope (MVP 不包含)

- 库存管理
- 产品分类
- 物流配送
- 兑换审批流程
- 积分有效期
- 数据导出功能
- 移动端/响应式设计
- 高可用多区域部署
- SSO 集成（预留接口）

---

## Summary

AWSomeShop 是一个内部员工福利电商 MVP，核心功能包括：
1. **员工端**：浏览虚拟产品、使用积分兑换、查看积分和兑换历史
2. **管理端**：产品 CRUD、积分手动/自动发放与扣除

技术栈：Python FastAPI + React + PostgreSQL + AWS S3，容器化部署。
